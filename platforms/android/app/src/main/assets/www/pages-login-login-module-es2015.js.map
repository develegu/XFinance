{"version":3,"sources":["./src/app/pages/login/login.component.html","./src/app/pages/login/login.component.scss","./src/app/pages/login/login.component.ts","./src/app/pages/login/login.module.ts","./src/app/pages/login/login.routing.module.ts"],"names":[],"mappings":"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","file":"pages-login-login-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Login\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-col>\\n    <ion-input placeholder=\\\"Mail\\\" [(ngModel)]=\\\"login.email\\\">\\n    </ion-input>\\n  </ion-col>\\n\\n  <ion-col>\\n    <ion-input placeholder=\\\"Contraseña\\\" [(ngModel)]=\\\"login.password\\\">\\n    </ion-input>\\n  </ion-col>\\n\\n  <ion-button (click)=\\\"Login()\\\">Login\\n  </ion-button>\\n\\n\\n</ion-content>\\n\"","module.exports = \".welcome-card img {\\n  max-height: 35vh;\\n  overflow: hidden;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbG9naW4vQzpcXFVzZXJzXFxqb3JnZVxcRGVza3RvcFxcWEZpbmFuY2Uvc3JjXFxhcHBcXHBhZ2VzXFxsb2dpblxcbG9naW4uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQUE7RUFDQSxnQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvbG9naW4vbG9naW4uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIud2VsY29tZS1jYXJkIGltZyB7XG4gIG1heC1oZWlnaHQ6IDM1dmg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG4iLCIud2VsY29tZS1jYXJkIGltZyB7XG4gIG1heC1oZWlnaHQ6IDM1dmg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59Il19 */\"","import { Component } from \"@angular/core\";\nimport { MyModal } from \"src/app/common/modals/my-modal/my-modal.component\";\nimport { ModalController } from \"@ionic/angular\";\nimport { OverlayEventDetail } from \"@ionic/core\";\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { gv } from 'src/app/common/constants';\nimport { Storage } from '@ionic/storage';\nimport { CommonService } from 'src/app/common/services/common.service';\n\n@Component({\n  selector: \"app-login\",\n  templateUrl: \"login.component.html\",\n  styleUrls: [\"login.component.scss\"]\n})\n\nexport class LoginComponent {\n\n  constructor(private modalController: ModalController,\n    public db: AngularFirestore,\n    public localStorage: Storage,\n    public gf: CommonService) { }\n\n  async openModal() {\n    const modal: HTMLIonModalElement = await this.modalController.create({\n      component: MyModal,\n      componentProps: {\n        myParam: \"test\"\n      }\n    });\n\n    modal.onDidDismiss().then((detail: OverlayEventDetail) => {\n      if (detail !== null) {\n        console.log(\"The result:\", detail.data);\n      }\n    });\n\n    await modal.present();\n  }\n\n  ngOnInit() {\n    this.gf.DisableSideMenu();\n    this.gf.CheckLogin();\n  }\n\n  login = {\n    email: '',\n    password: ''\n  }\n  errors = {\n    email: '',\n    password: ''\n  };\n\n  Login() {\n    this.gf.loginUser(this.login).then((user_return) => {\n      if (user_return.user) {\n        console.log('User returned');\n        console.log(user_return.user);\n\n        this.db.collection(gv.FB_Usuarios).doc(user_return.user.uid).get().subscribe(serverItems => {\n          console.log(\"Search\")\n          serverItems.data()[gv.key] = user_return.user.uid;\n          console.log(serverItems.data())\n          this.localStorage.set('user', serverItems.data());\n          gv.usuario = serverItems.data();\n\n          this.login = {\n            email: '',\n            password: ''\n          };\n          \n          this.gf.ListenersClientesPagos();\n          this.gf.ListenersColaboradores();\n          this.gf.EnableSideMenu();\n  \n          this.gf.IrAClientes();\n        });\n      }\n    }).catch((error) => {\n      if (error.code === \"auth/wrong-password\") {\n        this.errors.password = 'La contraseña es incorrecta';\n      }\n      if (error.code === \"auth/user-not-found\") {\n        this.errors.email = 'No existe usuario con ese mail';\n      }\n      if (error.code === \"auth/invalid-email\") {\n        this.errors.email = 'El formato de mail es incorrecto';\n      }\n\n      console.log(\"login error\")\n      console.log(error);\n    });\n  }\n}\n","import { NgModule } from \"@angular/core\";\nimport { LoginRoutingModule } from \"./login.routing.module\";\nimport { LoginComponent } from \"./login.component\";\nimport { SharedModule } from \"src/app/common/modules/shared.module\";\nimport { MyModalModule } from \"src/app/common/modals/my-modal/my-modal.module\";\n\n\n@NgModule({\n  imports: [SharedModule, MyModalModule, LoginRoutingModule],\n  declarations: [LoginComponent]\n})\n\nexport class LoginModule {\n\n\n\n}","import { NgModule } from \"@angular/core\";\r\nimport { Routes, RouterModule } from \"@angular/router\";\r\nimport { LoginComponent } from './login.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    component: LoginComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class LoginRoutingModule {z}\r\n"],"sourceRoot":""}