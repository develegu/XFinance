(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"/yGZ":function(l,n,u){"use strict";u.r(n);var o=u("8Y7J");class e{}var i=u("pMnS"),t=u("oGqa"),a=u("oBZk"),s=u("ZZ/e"),r=u("s7LF"),b=u("mrSG"),g=u("E3Cs"),c=u("XY7g"),d=u("toH5");class h{constructor(l,n,u,o){this.modalController=l,this.db=n,this.localStorage=u,this.gf=o,this.login={email:"",password:""},this.errors={email:"",password:""}}openModal(){return b.__awaiter(this,void 0,void 0,(function*(){const l=yield this.modalController.create({component:g.a,componentProps:{myParam:"test"}});l.onDidDismiss().then(l=>{null!==l&&console.log("The result:",l.data)}),yield l.present()}))}ngOnInit(){this.gf.DisableSideMenu(),this.gf.CheckLogin()}Login(){this.gf.loginUser(this.login).then(l=>{l.user&&(console.log("User returned"),console.log(l.user),this.db.collection(c.b.FB_Usuarios).doc(l.user.uid).get().subscribe(n=>{console.log("Search"),c.b.usuario=n.data(),c.b.usuario[c.b.key]=l.user.uid,console.log(c.b.usuario[c.b.key]),this.localStorage.set("user",c.b.usuario),this.login={email:"",password:""},this.gf.ListenersClientesPagos(),this.gf.ListenersColaboradores(),this.gf.EnableSideMenu(),this.gf.IrAClientes()}))}).catch(l=>{"auth/wrong-password"===l.code&&(this.errors.password="La contrase\xf1a es incorrecta"),"auth/user-not-found"===l.code&&(this.errors.email="No existe usuario con ese mail"),"auth/invalid-email"===l.code&&(this.errors.email="El formato de mail es incorrecto"),console.log("login error"),console.log(l)})}}var p=u("Xr7G"),C=u("xgBC"),B=o.pb({encapsulation:0,styles:[[".welcome-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:35vh;overflow:hidden}"]],data:{}});function m(l){return o.Lb(0,[(l()(),o.rb(0,0,null,null,10,"ion-header",[],null,null,null,a.G,a.h)),o.qb(1,49152,null,0,s.A,[o.h,o.k,o.x],null,null),(l()(),o.rb(2,0,null,0,8,"ion-toolbar",[],null,null,null,a.X,a.y)),o.qb(3,49152,null,0,s.Bb,[o.h,o.k,o.x],null,null),(l()(),o.rb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,a.B,a.c)),o.qb(5,49152,null,0,s.k,[o.h,o.k,o.x],null,null),(l()(),o.rb(6,0,null,0,1,"ion-menu-button",[],null,null,null,a.M,a.o)),o.qb(7,49152,null,0,s.Q,[o.h,o.k,o.x],null,null),(l()(),o.rb(8,0,null,0,2,"ion-title",[],null,null,null,a.W,a.x)),o.qb(9,49152,null,0,s.zb,[o.h,o.k,o.x],null,null),(l()(),o.Jb(-1,0,[" Login "])),(l()(),o.rb(11,0,null,null,22,"ion-content",[],null,null,null,a.D,a.e)),o.qb(12,49152,null,0,s.t,[o.h,o.k,o.x],null,null),(l()(),o.rb(13,0,null,0,8,"ion-col",[],null,null,null,a.C,a.d)),o.qb(14,49152,null,0,s.s,[o.h,o.k,o.x],null,null),(l()(),o.rb(15,0,null,0,6,"ion-input",[["placeholder","Mail"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var e=!0,i=l.component;return"ionBlur"===n&&(e=!1!==o.Db(l,17)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==o.Db(l,17)._handleInputEvent(u.target)&&e),"ngModelChange"===n&&(e=!1!==(i.login.email=u)&&e),e}),a.I,a.j)),o.qb(16,49152,null,0,s.F,[o.h,o.k,o.x],{placeholder:[0,"placeholder"]},null),o.qb(17,16384,null,0,s.Ob,[o.k],null,null),o.Gb(1024,null,r.c,(function(l){return[l]}),[s.Ob]),o.qb(19,671744,null,0,r.f,[[8,null],[8,null],[8,null],[6,r.c]],{model:[0,"model"]},{update:"ngModelChange"}),o.Gb(2048,null,r.d,null,[r.f]),o.qb(21,16384,null,0,r.e,[[4,r.d]],null,null),(l()(),o.rb(22,0,null,0,8,"ion-col",[],null,null,null,a.C,a.d)),o.qb(23,49152,null,0,s.s,[o.h,o.k,o.x],null,null),(l()(),o.rb(24,0,null,0,6,"ion-input",[["placeholder","Contrase\xf1a"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var e=!0,i=l.component;return"ionBlur"===n&&(e=!1!==o.Db(l,26)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==o.Db(l,26)._handleInputEvent(u.target)&&e),"ngModelChange"===n&&(e=!1!==(i.login.password=u)&&e),e}),a.I,a.j)),o.qb(25,49152,null,0,s.F,[o.h,o.k,o.x],{placeholder:[0,"placeholder"]},null),o.qb(26,16384,null,0,s.Ob,[o.k],null,null),o.Gb(1024,null,r.c,(function(l){return[l]}),[s.Ob]),o.qb(28,671744,null,0,r.f,[[8,null],[8,null],[8,null],[6,r.c]],{model:[0,"model"]},{update:"ngModelChange"}),o.Gb(2048,null,r.d,null,[r.f]),o.qb(30,16384,null,0,r.e,[[4,r.d]],null,null),(l()(),o.rb(31,0,null,0,2,"ion-button",[],null,[[null,"click"]],(function(l,n,u){var o=!0;return"click"===n&&(o=!1!==l.component.Login()&&o),o}),a.A,a.b)),o.qb(32,49152,null,0,s.j,[o.h,o.k,o.x],null,null),(l()(),o.Jb(-1,0,["Login "]))],(function(l,n){var u=n.component;l(n,16,0,"Mail"),l(n,19,0,u.login.email),l(n,25,0,"Contrase\xf1a"),l(n,28,0,u.login.password)}),(function(l,n){l(n,15,0,o.Db(n,21).ngClassUntouched,o.Db(n,21).ngClassTouched,o.Db(n,21).ngClassPristine,o.Db(n,21).ngClassDirty,o.Db(n,21).ngClassValid,o.Db(n,21).ngClassInvalid,o.Db(n,21).ngClassPending),l(n,24,0,o.Db(n,30).ngClassUntouched,o.Db(n,30).ngClassTouched,o.Db(n,30).ngClassPristine,o.Db(n,30).ngClassDirty,o.Db(n,30).ngClassValid,o.Db(n,30).ngClassInvalid,o.Db(n,30).ngClassPending)}))}function f(l){return o.Lb(0,[(l()(),o.rb(0,0,null,null,1,"app-login",[],null,null,null,m,B)),o.qb(1,114688,null,0,h,[s.Gb,p.a,C.b,d.a],null,null)],(function(l,n){l(n,1,0)}),null)}var D=o.nb("app-login",h,f,{},{},[]),v=u("SVse"),k=u("VQoA"),q=u("iInd"),w=u("iQDS"),x=u("mXY3");class M{}u.d(n,"LoginModuleNgFactory",(function(){return y}));var y=o.ob(e,[],(function(l){return o.Ab([o.Bb(512,o.j,o.Z,[[8,[i.a,t.a,D]],[3,o.j],o.v]),o.Bb(4608,v.l,v.k,[o.s,[2,v.s]]),o.Bb(4608,s.c,s.c,[o.x,o.g]),o.Bb(4608,s.Gb,s.Gb,[s.c,o.j,o.p]),o.Bb(4608,s.Kb,s.Kb,[s.c,o.j,o.p]),o.Bb(4608,r.a,r.a,[]),o.Bb(4608,r.i,r.i,[]),o.Bb(1073742336,v.b,v.b,[]),o.Bb(1073742336,k.a,k.a,[]),o.Bb(1073742336,k.g,k.g,[]),o.Bb(1073742336,k.d,k.d,[]),o.Bb(1073742336,k.b,k.b,[]),o.Bb(1073742336,k.e,k.e,[]),o.Bb(1073742336,k.c,k.c,[]),o.Bb(1073742336,k.f,k.f,[]),o.Bb(1073742336,s.Db,s.Db,[]),o.Bb(1073742336,q.o,q.o,[[2,q.t],[2,q.m]]),o.Bb(1073742336,r.h,r.h,[]),o.Bb(1073742336,r.g,r.g,[]),o.Bb(1073742336,r.b,r.b,[]),o.Bb(1073742336,w.a,w.a,[]),o.Bb(1073742336,x.a,x.a,[]),o.Bb(1073742336,M,M,[]),o.Bb(1073742336,e,e,[]),o.Bb(1024,q.k,(function(){return[[{path:"",component:h}]]}),[])])}))}}]);